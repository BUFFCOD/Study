# 22.5 Fixing Network Issues 

Wrong subnet mask: all nodes in the same network should be in the same subnet.

Wrong router: the router must always be in the local network.
DNS not working: verify /etc/resolv.conf contents




## Demo: Verifying Network Configuration

pgsql
Copy code
┌─────────────────────────────┐
│ 1. Check IP configuration   │
│                             │
│ ip addr show                │
└──────────────┬──────────────┘
               │
               ▼
┌─────────────────────────────┐
│ 2. Check routing table      │
│                             │
│ ip route show               │
└──────────────┬──────────────┘
               │
               ▼
┌─────────────────────────────┐
│ 3. Test raw connectivity    │
│    (no DNS involved)        │
│                             │
│ ping 8.8.8.8                │
└──────────────┬──────────────┘
               │
               ▼
┌─────────────────────────────┐
│ 4. Check DNS configuration  │
│                             │
│ cat /etc/resolv.conf        │
└──────────────┬──────────────┘
               │
               ▼
┌─────────────────────────────┐
│ 5. Test DNS resolution      │
│                             │
│ ping google.com             │
└──────────────┬──────────────┘
               │
               ▼
┌─────────────────────────────┐
│ 6. Trace network path       │
│                             │
│ tracepath google.com        │
└──────────────┬──────────────┘
               │
               ▼
┌─────────────────────────────┐
│ 7. Verify DNS with dig      │
│                             │
│ dig google.com              │
└─────────────────────────────┘


## Managing Performance Issues

Troubleshooting  Performance is an art on its own.
Foucs on the four key area of perfromance,

memory
CPU load
DISK load
network

Use top to get a generic image, and more specialized tools only if you have a stroung indication of what is wrong.


## Troubleshooting Software issues

Dependency problems in RPM's

    should not when using repositories

Library problems
    Run Idconfif to update the library cache
    
Use container or Flatpak applications to avoid software dependency version issues. 


## Fixing memory shortage

Memory issues appear if available memory as shown by free is low

    the definition of low depends on server workload.

As a first help to fix memory issues swap space can be used.

Use vmstat 2 25 to make sure that adding swap space doesn't lead to  too much I/O traffic.

us → user
sy → system
id → idle
wa → wait (I/O wait)
st → stolen
r  → runnable processes (waiting for CPU)
b  → blocked processes (waiting for I/O)


┌───────────┬───────────────┬────────────┬────────────┬──────────────┐
│ processes │    memory     │    swap    │     io     │     cpu      │
├───────────┼───────────────┼────────────┼────────────┼──────────────┤
│ r  b      │ swpd free buff cache │ si so │ bi bo │ us sy id wa st │
└───────────┴───────────────┴────────────┴────────────┴──────────────┘


Is free memory low?
        │
        ▼
Is swap being used (swpd > 0)?
        │
        ▼
Is si/so increasing?
        │
        ├── NO → Normal Linux behavior
        │
        └── YES → Memory shortage

## Using sos report

The sos report command is used to gather system information the main purpose is to collect relevant system information for Red Hat support to step in and help.  


## Consulting Red Hat Websites for Tips 