# Exploring the boot procedure

+----------------+
|      UEFI      |
+----------------+
        |
        v
+----------------+
|      GRUB      |
| (Bootloader)  |
+----------------+
        |
        v
+----------------+
|    Kernel      |
| (vmlinuz)     |
+----------------+
        |
        v
+----------------+
|   initramfs    |
| (Early userspace)
+----------------+
        |
        v
+----------------+
|    systemd     |
|   (PID 1)     |
+----------------+
        |
        v
+----------------+
|  Early Boot    |
|  Services     |
+----------------+
        |
        v
+----------------+
|   Services     |
| (network, fs) |
+----------------+
        |
        v
+----------------+
|     Shell      |
|  (login)      |
+----------------+

## Modifying the Grub2 Runtime Parameters

From the Grub2 boot menu press `e` to edit the runtime boot options to the end of the line that starts with `linux` .

systemd.unit=emergency.target
systemd.unit=rescue.target

press c to enter the Grub2 command mode.
  From command mode type help for an overview of available options.


  GRUB version 2.12

+--------------------------------------------------+
| load_video                                       |
| set gfxpayload=keep                              |
| insmod gzio                                      |
|                                                  |
| linux ($root)/vmlinuz-6.12.0-55.9.1.el10_0       |
|   root=/dev/mapper/rhel-root ro                  |
|   crashkernel=256M                               |
|   rd.lvm.lv=rhel/root                            |
|   rd.lvm.lv=rhel/swap                            |
|   rhgb quiet                                     |
|                                                  |
| initrd ($root)/initramfs-6.12.0-55.9.1.el10_0.img|
+--------------------------------------------------+

[Ctrl+x or F10 to boot]  [Esc to cancel]

| Parameter | Purpose                       |
| --------- | ----------------------------- |
| `root=`   | Defines root filesystem       |
| `ro`      | Mount root as read-only first |
| `rhgb`    | Red Hat graphical boot        |
| `quiet`   | Suppress boot messages        |

initrd (...)

Loads initramfs.

Required for drivers, LVM, encrypted disks.


## Modifying Grub2 Persistent Parameters


TO change boot options edit `/etc/default/grub` 

Since RHEL 9.2, the Grub2 configuration file in `/etc/default/grub`  has the line:GRUB_ENABLE_BLSCFG.

This means that the effective configuration is obtained from the files in /boot/loader directory.

edit the configuration file for your kernel version, and next write the changes to /boot/grub2/grub.cfg using the command:

```bash
sudo grub2-mkconfig -o /boot/grub2/grub.cfg
```