
# awk and sed Notes

## awk – Powerful Text & Data Extraction
awk is a tool used for pattern scanning, processing, and reporting structured text data.

### Example: Print Last Field for a Specific User
```
awk -F: '/linda/ { print $NF }' /etc/passwd
```

- `-F:` sets the field separator to `:`
- `/linda/` matches lines containing “linda”
- `$NF` prints the last field (NF = Number of Fields)

---

## /etc/passwd Field Layout
Each line in `/etc/passwd` has 7 fields separated by `:`:

1. Username  
2. Password placeholder (`x`)  
3. UID  
4. GID  
5. Comment / Full Name  
6. Home Directory  
7. Login Shell  

### Example: Show All Users Using `/bin/bash`
```
awk -F: '$7=="/bin/bash" {print $1}' /etc/passwd
```

This means:
- `$7` is the 7th field (login shell)
- Match lines where the shell is `/bin/bash`
- Print `$1` → username
- Using `-F:` because `/etc/passwd` uses `:` as separator

---

## Using `$NF` When You Don’t Know the Field Number
```
awk -F: '$NF=="/bin/bash" {print $1}' /etc/passwd
```

- `$NF` means “last field”
- Works even if file layout changes
- Still prints the username

---

# sed – Stream Editor for Text Transformations

## Replace Text In-Place
```
sed -i 's/Pineapple/Feta/' toppings.txt
```

- `-i` edits file in place  
- Replaces first occurrence of Pineapple with Feta

---

## Use a Different Delimiter When Pattern Contains `/`
```
sed 's|/etc/|/srv/|' paths.txt
```

---

## Print a Specific Line
```
sed -n '5p' /etc/passwd
```

- `-n` suppresses normal output
- `5p` prints only line 5

---

# Summary
- `awk` handles text processing  
- `sed` edits text streams  
- `/etc/passwd` has 7 `:`-separated fields  
- `$7` = specific field, `$NF` = last field  
- Both tools are important for RHCSA