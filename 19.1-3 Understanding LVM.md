LVM Logical Volume Management

Used during default installation of RHEL since 1990s
Adds flexibility to storage(resizing,snapshots, and more)

Stratis
Next generation Volume Managing File System that use thin provisioning and snapshots
Implemented in user space, not kernel space which makes API access possible



## 19.2 Exploring LVM Setup


volume groups (VGs) are collections of physical volumes (PVs) and PVs are physical disks or partitions. Out of the VGs, logical volumes (LVs) are created 

### LVM Architecture (conceptual)

[ Physical Disks/Partitions ]
           │
           ▼
  Physical Volumes (PVs)
           │
           ▼
   Volume Group (VG)
    ├── Logical Volume (LV) → Filesystem → Mountpoint (/var, /home, etc.)
    ├── Logical Volume (LV) → Filesystem → Mountpoint (/srv, /data, etc.)
    └── (Optionally) Thin Pool → Thin LVs → Filesystems/Snapshots

## 19.3 Create an LVM Logical Volume

create a partition and set partition type to LVM

use pvcreate /dev/sdb1 to create a physical volume
use vgcreate myvg /dev/sdb1 to create a volume group
use lvcreate -L 10G -n mylv myvg to create a logical volume
use mkfs.xfs /dev/myvg/mylv to create a filesystem on the logical volume
put in /etc/fstab and mount it persistently

Understanding extents

Extents are the elementary blocks of LVM allocation.
The extent size can be defined while defining the volume group.
Use vgcreate -s 16M myvg /dev/sdb1 to set the extent size to 16MB.
all the LVM logical volumes will use this extent size.

use vgdisplay to display volume group information
use lvdisplay to display logical volume information
use pvdisplay to display physical volume information 